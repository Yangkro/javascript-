<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title></title>
	<style type="text/css">
		.box1{
			height: 300px;
			width: 400px;
			margin: 20px auto;
		}
		.box1 img {
			width: 100%;
			height: 280px;
		}
	</style>
	<script type="text/javascript">
		window.onload = function(){
			var img = document.getElementsByTagName("img")[0];
			var btn1 = document.getElementById("btn1");
			var btn2 = document.getElementById("btn2");
			var imagesArray = ["images/1.jpg", "images/2.jpg", "images/3.jpg", "images/4.jpg"];
			var index = 0;
			var timer;
			btn1.onclick = function(){
				//设置开始按钮
				//没点击一次开始按钮就开启一个定时器，点击多次就会开启多个定时器，所以速度会变快
				//并且只有一个timer 只会关闭最后一个定时器
				//所以在开启一个新的定时器前应该关闭上一个定时器
				// clearInterval(timer);
				timer = setInterval(function(){
				index = index % imagesArray.length;
				img.src = imagesArray[index];
				//设置背景图片为当前图片
				document.body.style.background = "url("+img.src+")";
				document.body.style.backgroundSize = "100% auto";
				index ++;
			}, 500);
			};
			//设置关闭按钮
			btn2.onclick = function(){
				clearInterval(timer);
			}
		};
	</script>
</head>
<body>
	<div class="box1">
		<img src="images/1.jpg" />
		<button type="button" id="btn1">开始</button>
		<button type="button" id="btn2">停止</button>
	</div>

</body>
</html>